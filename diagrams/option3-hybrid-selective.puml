@startuml
skinparam defaultTextAlignment center
skinparam componentStyle rectangle

title Option 3: Hybrid Selective Pattern\n99% Federated + 1% Real-Time

package "Google Cloud Platform" #4285F4 {
  [BigQuery\nData Warehouse\n\n99% batch data\n1% real-time subset] as BQ #FBBC04
}

package "Adobe Experience Platform - PATH 1: Batch" #4285F4 {
  [Federated Audience\nComposition] as FAC1
  [External Audiences\n99% volume] as EA1
}

package "Adobe Experience Platform - PATH 2: Real-Time" #EA4335 {
  [Streaming API] as API2
  [Profile Store\n1% volume] as PROF2
}

package "Destinations" #34A853 {
  [Batch Campaigns\nMarketo, Email] as BATCH
  [Real-Time Triggers\nGoogle Ads] as RT
  [Sales CRM\nAlerts] as CRM
}

BQ --> FAC1 : Query daily\n(99% of data)
FAC1 --> EA1
EA1 --> BATCH

BQ --> API2 : Stream attributes\n(1% of data)
API2 --> PROF2
PROF2 --> RT
PROF2 --> CRM

note bottom
**BENEFITS:**
• Best economics $286K-$693K/year
• 95-99% data reduction
• Real-time where needed
• 99% vendor independence

**USE CASES:**
• 99% Batch campaigns
• 1% Real-time alerts
end note

@enduml
